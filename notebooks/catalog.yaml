sources:
  # 單一年份資料 - 已 rechunk 以優化效能
  # 原始資料 chunk=(1, 121, 161) 導致過多小 chunks
  # 這裡 rechunk 為 (744, 121, 161) 即每月一個 chunk
  era5_2019:
    description: ERA5 reanalysis data for 2019 (10N-40N, 100E-140E)
    driver: zarr
    args:
      urlpath: '/home/sungche/NAS/dataset/era5/era5_2019_10N40N_100E140E.zarr'
      consolidated: true
      chunks: {'time': 744, 'latitude': 121, 'longitude': 161}  # ~1 month per chunk

  era5_2020:
    description: ERA5 reanalysis data for 2020 (10N-40N, 100E-140E)
    driver: zarr
    args:
      urlpath: '/home/sungche/NAS/dataset/era5/era5_2020_10N40N_100E140E.zarr'
      consolidated: true
      chunks: {'time': 744, 'latitude': 121, 'longitude': 161}

  era5_2021:
    description: ERA5 reanalysis data for 2021 (10N-40N, 100E-140E)
    driver: zarr
    args:
      urlpath: '/home/sungche/NAS/dataset/era5/era5_2021_10N40N_100E140E.zarr'
      consolidated: true
      chunks: {'time': 744, 'latitude': 121, 'longitude': 161}

  era5_2022:
    description: ERA5 reanalysis data for 2022 (10N-40N, 100E-140E)
    driver: zarr
    args:
      urlpath: '/home/sungche/NAS/dataset/era5/era5_2022_10N40N_100E140E.zarr'
      consolidated: true
      chunks: {'time': 744, 'latitude': 121, 'longitude': 161}

  era5_2023:
    description: ERA5 reanalysis data for 2023 (10N-40N, 100E-140E)
    driver: zarr
    args:
      urlpath: '/home/sungche/NAS/dataset/era5/era5_2023_10N40N_100E140E.zarr'
      consolidated: true
      chunks: {'time': 744, 'latitude': 121, 'longitude': 161}

  # 所有年份合併 (2019-2023)
  # 注意：這個會在讀取時 concat，適合需要多年資料的分析
  era5_all:
    description: ERA5 reanalysis data for 2019-2023 (10N-40N, 100E-140E) - concatenated
    driver: netcdf
    args:
      urlpath:
        - '/home/sungche/NAS/dataset/era5/era5_2019_10N40N_100E140E.zarr'
        - '/home/sungche/NAS/dataset/era5/era5_2020_10N40N_100E140E.zarr'
        - '/home/sungche/NAS/dataset/era5/era5_2021_10N40N_100E140E.zarr'
        - '/home/sungche/NAS/dataset/era5/era5_2022_10N40N_100E140E.zarr'
        - '/home/sungche/NAS/dataset/era5/era5_2023_10N40N_100E140E.zarr'
      concat_dim: 'time'
      combine: 'nested'
      chunks: {'time': 744, 'latitude': 121, 'longitude': 161}
      engine: 'zarr'
      consolidated: true
